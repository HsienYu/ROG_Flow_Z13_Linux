# =============================================================================
# ROG Flow Z13 Hyprland Configuration
# =============================================================================
# This configuration provides ROG-specific controls for Hyprland
# Include this in your main Hyprland config with:
#   source = ~/.config/hypr/hyprland-rog-z13.conf
# =============================================================================

# -----------------------------------------------------------------------------
# Brightness Control (F7/F8)
# -----------------------------------------------------------------------------
# Decrease brightness
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-
# Increase brightness  
bind = , XF86MonBrightnessUp, exec, brightnessctl set +5%

# Alternative bindings if F7/F8 don't work
bind = , F7, exec, brightnessctl set 5%-
bind = , F8, exec, brightnessctl set +5%

# -----------------------------------------------------------------------------
# Volume Control (F1/F2/F3)
# -----------------------------------------------------------------------------
# Mute
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
# Volume down
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
# Volume up
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+

# Microphone mute
bind = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# -----------------------------------------------------------------------------
# ASUS ROG Performance Profiles (Fn+F5 or custom bindings)
# -----------------------------------------------------------------------------
# Switch to Performance mode
bind = SUPER_SHIFT, P, exec, asusctl profile -P Performance && notify-send "ROG Profile" "Performance Mode" -i cpu
# Switch to Balanced mode
bind = SUPER_SHIFT, B, exec, asusctl profile -P Balanced && notify-send "ROG Profile" "Balanced Mode" -i battery
# Switch to Quiet mode
bind = SUPER_SHIFT, Q, exec, asusctl profile -P Quiet && notify-send "ROG Profile" "Quiet Mode" -i battery-low

# Cycle through profiles (Fn+F5 alternative)
bind = , XF86Launch4, exec, asusctl profile -n && notify-send "ROG Profile" "$(asusctl profile -p)" -i cpu

# -----------------------------------------------------------------------------
# Keyboard Backlight Control
# -----------------------------------------------------------------------------
# Decrease keyboard brightness
bind = SUPER_SHIFT, F7, exec, asusctl -k --prev-kbd && notify-send "Keyboard Backlight" "Decreased" -i keyboard-brightness-symbolic
# Increase keyboard brightness
bind = SUPER_SHIFT, F8, exec, asusctl -k --next-kbd && notify-send "Keyboard Backlight" "Increased" -i keyboard-brightness-symbolic
# Toggle keyboard backlight
bind = , XF86KbdBrightnessDown, exec, asusctl -k --prev-kbd
bind = , XF86KbdBrightnessUp, exec, asusctl -k --next-kbd

# -----------------------------------------------------------------------------
# ROG Control Center Launch
# -----------------------------------------------------------------------------
# Launch ROG Control Center GUI
bind = SUPER, R, exec, rog-control-center

# -----------------------------------------------------------------------------
# AniMatrix Control (if supported)
# -----------------------------------------------------------------------------
# Toggle AniMatrix display
bind = SUPER_SHIFT, A, exec, asusctl animatrix -e && notify-send "AniMatrix" "Toggled" -i video-display

# -----------------------------------------------------------------------------
# Fan Control
# -----------------------------------------------------------------------------
# Open fan curve control (requires custom script or GUI)
bind = SUPER_SHIFT, F, exec, notify-send "Fan Control" "Use 'asusctl fan-curve' or ROG Control Center" -i system-run

# -----------------------------------------------------------------------------
# Battery Charge Limit Toggle
# -----------------------------------------------------------------------------
# Set battery charge limit to 80% (recommended for longevity)
bind = SUPER_SHIFT, 8, exec, asusctl -c 80 && notify-send "Battery Limit" "Set to 80%" -i battery
# Set battery charge limit to 100% (for travel/full charge)
bind = SUPER_SHIFT, 0, exec, asusctl -c 100 && notify-send "Battery Limit" "Set to 100%" -i battery-full

# -----------------------------------------------------------------------------
# GPU Mode Switching (supergfxctl)
# -----------------------------------------------------------------------------
# Switch to Integrated GPU mode (battery saving)
bind = SUPER_SHIFT_ALT, I, exec, supergfxctl -m Integrated && notify-send "GPU Mode" "Integrated (Battery Saver)" -i video-display
# Switch to Hybrid mode (automatic switching)
bind = SUPER_SHIFT_ALT, H, exec, supergfxctl -m Hybrid && notify-send "GPU Mode" "Hybrid" -i video-display
# Check current GPU mode
bind = SUPER_SHIFT_ALT, G, exec, notify-send "GPU Mode" "$(supergfxctl -g)" -i video-display

# -----------------------------------------------------------------------------
# Screen Rotation (for tablet mode)
# -----------------------------------------------------------------------------
# Rotate screen 90 degrees
bind = SUPER_SHIFT, Right, exec, hyprctl keyword monitor ,transform,1
# Rotate screen 180 degrees
bind = SUPER_SHIFT, Down, exec, hyprctl keyword monitor ,transform,2
# Rotate screen 270 degrees
bind = SUPER_SHIFT, Left, exec, hyprctl keyword monitor ,transform,3
# Normal orientation
bind = SUPER_SHIFT, Up, exec, hyprctl keyword monitor ,transform,0

# -----------------------------------------------------------------------------
# Quick Status Check
# -----------------------------------------------------------------------------
# Show current ROG status (profile, battery limit, GPU mode)
bind = SUPER_SHIFT, S, exec, notify-send "ROG Status" "Profile: $(asusctl profile -p)\nBattery Limit: $(asusctl -c)\nGPU Mode: $(supergfxctl -g)" -i info

# -----------------------------------------------------------------------------
# Power Management
# -----------------------------------------------------------------------------
# Lock screen
bind = SUPER, L, exec, swaylock
# Sleep/Suspend
bind = SUPER_SHIFT, Escape, exec, systemctl suspend

# -----------------------------------------------------------------------------
# Media Keys (Play/Pause/Next/Previous)
# -----------------------------------------------------------------------------
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPause, exec, playerctl pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# -----------------------------------------------------------------------------
# Touchpad Toggle (Fn+F10)
# -----------------------------------------------------------------------------
bind = , XF86TouchpadToggle, exec, ~/.config/hypr/scripts/toggle-touchpad.sh

# -----------------------------------------------------------------------------
# Optional: Waybar Integration Module
# -----------------------------------------------------------------------------
# Add this to your waybar config.jsonc for a ROG status module:
#
# "custom/rog-profile": {
#     "exec": "asusctl profile -p | awk '{print $4}'",
#     "interval": 5,
#     "format": "󰓅 {}",
#     "on-click": "asusctl profile -n",
#     "tooltip-format": "Click to cycle profiles"
# },
# "custom/battery-limit": {
#     "exec": "asusctl -c | grep -oP '\\d+(?=%)'",
#     "interval": 30,
#     "format": "󰂄 {}%",
#     "tooltip-format": "Battery charge limit"
# }

# -----------------------------------------------------------------------------
# Environment Variables for ROG Hardware
# -----------------------------------------------------------------------------
# These are set in your hyprland.conf main file, not here
# env = WLR_DRM_DEVICES,/dev/dri/card1:/dev/dri/card0
# env = LIBVA_DRIVER_NAME,radeonsi
# env = VDPAU_DRIVER,radeonsi
